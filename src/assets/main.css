@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global UI/UX Rules for FinTrack MVP */

/* Mobile-first responsive design */
@layer base {
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply bg-gray-50 text-gray-900 antialiased;
    font-size: 16px; /* Base font size for accessibility */
    line-height: 1.5;
  }
}

/* Custom utility classes for consistent styling */
@layer components {
  /* Card/Panels - Light background with soft shadows */
  .fintrack-card {
    @apply bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden;
    transition: all 0.2s ease-in-out;
  }
  
  .fintrack-card:hover {
    @apply shadow-md;
  }
  
  /* Touch-friendly buttons */
  .fintrack-btn {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200;
    min-height: 44px; /* iOS recommended touch target */
    padding: 0.75rem 1.5rem;
    font-size: 0.875rem;
  }
  
  .fintrack-btn-primary {
    @apply fintrack-btn bg-green-500 text-white hover:bg-green-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-2;
  }
  
  .fintrack-btn-secondary {
    @apply fintrack-btn bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }
  
  .fintrack-btn-danger {
    @apply fintrack-btn bg-red-500 text-white hover:bg-red-600 focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }
  
  /* Income/Expense specific buttons */
  .fintrack-btn-income {
    @apply fintrack-btn bg-green-500 text-white hover:bg-green-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-2;
  }
  
  .fintrack-btn-expense {
    @apply fintrack-btn bg-red-500 text-white hover:bg-red-600 focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }
  
  /* Touch-friendly input fields */
  .fintrack-input {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm transition-all duration-200;
    min-height: 44px; /* iOS recommended touch target */
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  .fintrack-input:focus {
    @apply ring-2 ring-indigo-500 border-indigo-500 outline-none;
  }
  
  .fintrack-input-income:focus {
    @apply ring-2 ring-green-500 border-green-500;
  }
  
  .fintrack-input-expense:focus {
    @apply ring-2 ring-red-500 border-red-500;
  }
  
  /* Textarea */
  .fintrack-textarea {
    @apply fintrack-input resize-none;
  }
  
  /* Form labels */
  .fintrack-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }
  
  /* Container layouts */
  .fintrack-container {
    @apply max-w-7xl mx-auto px-3 sm:px-6 lg:px-8;
  }
  
  .fintrack-content-card {
    @apply fintrack-card max-w-3xl mx-auto;
  }
  
  /* Mobile-first single column layout */
  .fintrack-mobile-card {
    @apply bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6;
  }
  
  /* Desktop centered card */
  .fintrack-desktop-card {
    @apply fintrack-card max-w-2xl mx-auto;
  }
  
  /* Tab navigation */
  .fintrack-tabs {
    @apply bg-white rounded-xl shadow-sm border border-gray-200;
  }
  
  .fintrack-tab {
    @apply flex-1 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-center transition-all duration-200;
  }
  
  .fintrack-tab-active {
    @apply fintrack-tab border-indigo-500 text-indigo-600;
  }
  
  .fintrack-tab-inactive {
    @apply fintrack-tab border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300;
  }
  
  /* Income/Expense specific tabs */
  .fintrack-tab-income-active {
    @apply fintrack-tab border-green-500 text-green-600;
  }
  
  .fintrack-tab-expense-active {
    @apply fintrack-tab border-red-500 text-red-600;
  }
  
  /* Mobile segmented control */
  .fintrack-segmented {
    @apply bg-white rounded-xl shadow-sm border border-gray-200 p-1;
  }
  
  .fintrack-segment {
    @apply px-3 py-3 text-xs font-medium rounded-lg transition-all duration-200 text-center;
  }
  
  .fintrack-segment-active {
    @apply fintrack-segment shadow-sm;
  }
  
  .fintrack-segment-inactive {
    @apply fintrack-segment text-gray-500 hover:text-gray-700 hover:bg-gray-50;
  }
  
  /* List items */
  .fintrack-list-item {
    @apply px-4 sm:px-6 py-4 hover:bg-gray-50 transition-all duration-200;
  }
  
  .fintrack-list-item-mobile {
    @apply px-4 py-3;
  }
  
  .fintrack-list-item-desktop {
    @apply px-6 py-4;
  }
  
  /* Mobile responsive utilities */
  @media (max-width: 640px) {
    .fintrack-mobile-stack {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .fintrack-mobile-space {
      margin-top: 0.75rem;
    }
    
    .fintrack-mobile-full {
      width: 100%;
    }
    
    .fintrack-mobile-text-xs {
      font-size: 0.75rem;
      line-height: 1rem;
    }
    
    .fintrack-mobile-px-2 {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    
    .fintrack-mobile-space-x-1 {
      margin-left: 0.25rem;
      margin-right: 0.25rem;
    }
  }
  
  @media (max-width: 390px) {
    .fintrack-very-small-text {
      font-size: 0.7rem;
    }
    
    .fintrack-very-small-px-1 {
      padding-left: 0.25rem;
      padding-right: 0.25rem;
    }
  }
  
  .fintrack-list-item-content {
    @apply flex-1 min-w-0;
  }
  
  .fintrack-list-item-title {
    @apply text-sm font-medium text-gray-900 truncate;
  }
  
  .fintrack-list-item-subtitle {
    @apply text-sm text-gray-500 mt-1;
  }
  
  .fintrack-list-item-meta {
    @apply text-xs text-gray-400 mt-2;
  }
  
  /* Action buttons */
  .fintrack-action-btn {
    @apply p-2 rounded-lg transition-all duration-200 opacity-0 group-hover:opacity-100;
  }
  
  .fintrack-action-btn-edit {
    @apply fintrack-action-btn text-gray-400 hover:text-gray-600 hover:bg-gray-100;
  }
  
  .fintrack-action-btn-delete {
    @apply fintrack-action-btn text-red-400 hover:text-red-600 hover:bg-red-50;
  }
  
  /* Modal */
  .fintrack-modal {
    @apply fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4;
  }
  
  .fintrack-modal-content {
    @apply bg-white rounded-xl shadow-xl border border-gray-200 w-full max-w-md;
  }
  
  .fintrack-modal-header {
    @apply flex items-center space-x-3 mb-6;
  }
  
  .fintrack-modal-icon {
    @apply p-2 rounded-lg;
  }
  
  /* Notification */
  .fintrack-notification {
    @apply fixed top-4 right-4 z-50 max-w-sm border rounded-xl p-4 shadow-lg backdrop-blur-sm transition-all duration-300;
  }
  
  .fintrack-notification-success {
    @apply fintrack-notification bg-green-50 border-green-200 text-green-800 shadow-green-200;
  }
  
  .fintrack-notification-error {
    @apply fintrack-notification bg-red-50 border-red-200 text-red-800 shadow-red-200;
  }
  
  /* Header */
  .fintrack-header {
    @apply mb-6 sm:mb-8;
  }
  
  .fintrack-header-title {
    @apply text-2xl sm:text-3xl font-bold text-gray-900;
  }
  
  .fintrack-header-subtitle {
    @apply mt-1 text-sm sm:text-base text-gray-600;
  }
  
  /* Back button */
  .fintrack-back-btn {
    @apply inline-flex items-center rounded-lg bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-gray-300 hover:bg-gray-50 mb-4 sm:mb-6 transition-all duration-200;
  }
  
  /* Empty state */
  .fintrack-empty-state {
    @apply p-8 sm:p-12 text-center;
  }
  
  .fintrack-empty-icon {
    @apply text-gray-300 mb-4;
  }
  
  .fintrack-empty-title {
    @apply text-lg font-medium text-gray-900 mb-2;
  }
  
  .fintrack-empty-description {
    @apply text-gray-500 mb-6 max-w-sm mx-auto;
  }
  
  /* Loading */
  .fintrack-loading {
    @apply p-8 text-center text-gray-500;
  }
  
  .fintrack-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4;
  }
  
  /* Utility classes */
  .fintrack-transition {
    @apply transition-all duration-200 ease-in-out;
  }
  
  .fintrack-focus {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .fintrack-focus-green {
    @apply fintrack-focus focus:ring-green-500;
  }
  
  .fintrack-focus-red {
    @apply fintrack-focus focus:ring-red-500;
  }
  
  .fintrack-focus-indigo {
    @apply fintrack-focus focus:ring-indigo-500;
  }
}

/* Responsive utilities */
@layer utilities {
  /* Mobile-first responsive padding */
  .responsive-padding {
    @apply px-3 sm:px-6 lg:px-8;
  }
  
  /* Mobile-first card padding */
  .card-padding {
    @apply p-4 sm:p-6;
  }
  
  /* Text size responsive */
  .responsive-text {
    @apply text-sm sm:text-base;
  }
  
  /* Button size responsive */
  .responsive-btn {
    @apply text-sm sm:text-base px-4 sm:px-6 py-3;
  }
}

/* Custom scrollbar for better UX */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .fintrack-card {
    @apply border-gray-400;
  }
  
  .fintrack-input {
    @apply border-gray-600;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}